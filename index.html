<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Personal Portfolio Website</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap">
    <script src="https://kit.fontawesome.com/bcb26ee290.js" crossorigin="anonymous"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Poppins', sans-serif;
        }

        body {
            background: linear-gradient(135deg, #1e3c72, #2a5298);
            color: #333;
            min-height: 100vh;
            overflow-x: hidden;
            transition: background 0.5s ease;
        }

        body.dark-mode {
            background: linear-gradient(135deg, #1a1a1a, #2e2e2e);
            color: #ddd;
        }

        .container {
            width: 90%;
            max-width: 1200px;
            margin: 0 auto;
        }

        /* Header */
        #header {
            position: relative;
            background: url('images/background.jpg') no-repeat center center/cover;
            height: 100vh;
            color: #fff;
            text-align: center;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* Enhanced Navigation */
        nav {
            position: fixed;
            top: 0;
            width: 100%;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            padding: 15px 0;
            z-index: 1000;
            transition: background 0.3s ease, box-shadow 0.3s ease;
        }

        nav.sticky {
            background: rgba(255, 255, 255, 0.9);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        }

        .nav-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 20px;
        }

        .logo {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            transition: transform 0.3s ease;
        }

        .logo:hover {
            transform: scale(1.1);
        }

        .nav-menu {
            display: flex;
            list-style: none;
            margin: 0;
            padding: 0;
        }

        .nav-menu li {
            margin: 0 20px;
        }

        .nav-menu li a {
            color: #fff;
            text-decoration: none;
            font-weight: 500;
            font-size: 1.1rem;
            padding: 10px 15px;
            border-radius: 25px;
            transition: background 0.3s ease, color 0.3s ease;
        }

        .nav-menu li a:hover, .nav-menu li a.active {
            background: rgba(52, 152, 219, 0.2);
            color: #3498db;
        }

        /* Mobile Menu */
        .menu-toggle {
            display: none;
            font-size: 24px;
            color: #fff;
            cursor: pointer;
            transition: color 0.3s ease;
        }

        .menu-toggle:hover {
            color: #3498db;
        }

        .mobile-menu {
            position: fixed;
            top: 0;
            right: -300px;
            width: 300px;
            height: 100vh;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            padding-top: 80px;
            list-style: none;
            transition: right 0.3s ease;
            z-index: 1001;
        }

        .mobile-menu.active {
            right: 0;
        }

        .mobile-menu li {
            margin: 20px 0;
            text-align: center;
        }

        .mobile-menu li a {
            color: #2c3e50;
            text-decoration: none;
            font-weight: 500;
            font-size: 1.2rem;
            padding: 10px 20px;
            border-radius: 25px;
            transition: background 0.3s ease, color 0.3s ease;
        }

        .mobile-menu li a:hover, .mobile-menu li a.active {
            background: rgba(52, 152, 219, 0.2);
            color: #3498db;
        }

        .close-menu {
            position: absolute;
            top: 20px;
            right: 20px;
            font-size: 24px;
            color: #2c3e50;
            cursor: pointer;
            transition: color 0.3s ease;
        }

        .close-menu:hover {
            color: #3498db;
        }

        /* Header Text */
        .header-text {
            text-align: center;
            animation: fadeInDown 1s ease;
        }

        .header-text p {
            font-size: 1.2rem;
            margin-bottom: 20px;
        }

        .header-text h1 {
            font-size: 3rem;
            font-weight: 700;
        }

        .header-text h1 span {
            color: #3498db;
        }

        /* About */
        #about {
            padding: 80px 0;
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
        }

        .sub-title {
            font-size: 2.5rem;
            color: #2c3e50;
            margin-bottom: 30px;
            text-align: center;
            animation: fadeInUp 1s ease;
        }

        .row {
            display: flex;
            flex-wrap: wrap;
            gap: 30px;
            align-items: center;
        }

        .about-col-1, .about-col-2 {
            flex: 1;
            min-width: 300px;
        }

        .about-col-1 img {
            width: 100%;
            border-radius: 15px;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
            transition: transform 0.3s ease;
        }

        .about-col-1 img:hover {
            transform: scale(1.05);
        }

        .about-col-2 p {
            font-size: 1rem;
            color: #666;
            line-height: 1.6;
            margin-bottom: 20px;
        }

        .tab-titles {
            display: flex;
            gap: 20px;
            margin-bottom: 20px;
        }

        .tab-links {
            font-size: 1.2rem;
            color: #2c3e50;
            cursor: pointer;
            padding: 10px;
            transition: color 0.3s ease, background 0.3s ease;
        }

        .tab-links.active-link, .tab-links:hover {
            color: #3498db;
            background: rgba(52, 152, 219, 0.1);
            border-radius: 5px;
        }

        .tab-contents {
            display: none;
        }

        .tab-contents.active-tab {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        .tab-contents ul {
            list-style: none;
        }

        .tab-contents ul li {
            margin: 15px 0;
            font-size: 1rem;
            color: #666;
        }

        .tab-contents ul li span {
            color: #2c3e50;
            font-weight: 500;
        }

        /* Achievements */
        #achievements {
            padding: 80px 0;
            background: linear-gradient(135deg, #3498db, #2a5298);
            color: #fff;
        }

        .achievement-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 30px;
        }

        .achievement-list div {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .achievement-list div:hover {
            transform: translateY(-10px);
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.3);
        }

        .achievement-list i {
            font-size: 2.5rem;
            margin-bottom: 15px;
        }

        .achievement-list h2 {
            font-size: 1.5rem;
            margin-bottom: 15px;
        }

        .achievement-list a {
            color: #fff;
            text-decoration: none;
            font-size: 1rem;
            transition: color 0.3s ease;
        }

        .achievement-list a:hover {
            color: #3498db;
        }

        /* Portfolio */
        #portfolio {
            padding: 80px 0;
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
        }

        .work-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 30px;
        }

        .work {
            position: relative;
            overflow: hidden;
            border-radius: 15px;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
        }

        .work img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.3s ease;
            loading: lazy;
        }

        .work:hover img {
            transform: scale(1.1);
        }

        .layer {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            color: #fff;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .work:hover .layer {
            opacity: 1;
        }

        .layer h3 {
            font-size: 1.5rem;
            margin-bottom: 10px;
        }

        .layer p {
            font-size: 1rem;
            margin-bottom: 15px;
            text-align: center;
        }

        .layer a {
            color: #fff;
            font-size: 1.5rem;
            transition: color 0.3s ease;
        }

        .layer a:hover {
            color: #3498db;
        }

        .btn {
            display: inline-block;
            margin-top: 30px;
            padding: 10px 20px;
            background: #3498db;
            color: #fff;
            text-decoration: none;
            border-radius: 25px;
            transition: background 0.3s ease;
        }

        .btn:hover {
            background: #2980b9;
        }

        /* Contact */
        #contact {
            padding: 80px 0;
            background: linear-gradient(135deg, #3498db, #2a5298);
            color: #fff;
        }

        .contact-left, .contact-right {
            flex: 1;
            min-width: 300px;
        }

        .contact-left p {
            font-size: 1.2rem;
            margin: 15px 0;
        }

        .contact-left p i {
            margin-right: 10px;
            color: #3498db;
        }

        .social-icons {
            margin: 20px 0;
        }

        .social-icons a {
            color: #fff;
            font-size: 1.5rem;
            margin-right: 15px;
            transition: color 0.3s ease;
        }

        .social-icons a:hover {
            color: #3498db;
        }

        .contact-right form {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .contact-right input, .contact-right textarea {
            padding: 15px;
            font-size: 1rem;
            border: none;
            border-radius: 25px;
            background: rgba(255, 255, 255, 0.1);
            color: #fff;
            transition: background 0.3s ease;
        }

        .contact-right input::placeholder, .contact-right textarea::placeholder {
            color: #ddd;
        }

        .contact-right input:focus, .contact-right textarea:focus {
            background: rgba(255, 255, 255, 0.2);
            outline: none;
        }

        .contact-right button {
            padding: 10px 20px;
            background: #3498db;
            color: #fff;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            transition: background 0.3s ease;
        }

        .contact-right button:hover {
            background: #2980b9;
        }

        #msg {
            color: #fff;
            font-size: 1rem;
            margin-top: 10px;
        }

        .copyright {
            text-align: center;
            padding: 20px 0;
            background: rgba(0, 0, 0, 0.1);
            color: #fff;
        }

        /* Modal */
        .modal {
            display: none;
            position: fixed;
            z-index: 1001;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background: rgba(0, 0, 0, 0.7);
        }

        .modal-content {
            background: #fff;
            margin: 15% auto;
            padding: 20px;
            border-radius: 15px;
            width: 90%;
            max-width: 600px;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.3);
            animation: fadeIn 0.3s ease;
        }

        .close {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
        }

        .close:hover, .close:focus {
            color: #000;
        }

        /* Chatbot */
        #chatbot-button {
            position: fixed;
            bottom: 20px;
            right: 20px;
            padding: 10px 20px;
            background: #3498db;
            color: #fff;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            font-size: 16px;
            display: flex;
            align-items: center;
            gap: 10px;
            z-index: 1000;
            transition: background 0.3s ease;
        }

        #chatbot-button:hover {
            background: #2980b9;
        }

        #chatbot-popup {
            position: fixed;
            bottom: 80px;
            right: 20px;
            width: 300px;
            height: 400px;
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 10px;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.3);
            display: none;
            flex-direction: column;
            z-index: 1000;
            animation: slideIn 0.3s ease;
        }

        #chatbot-popup.active {
            display: flex;
        }

        #chatbox {
            flex: 1;
            overflow-y: auto;
            border-bottom: 1px solid #ccc;
            margin-bottom: 10px;
            padding: 5px;
        }

        #chatbox .user-message, #chatbox .bot-message {
            margin: 10px 0;
            padding: 10px;
            border-radius: 10px;
        }

        #chatbox .user-message {
            background: #3498db;
            color: #fff;
            text-align: right;
        }

        #chatbox .bot-message {
            background: #ddd;
            color: #333;
        }

        #userInput {
            width: 100%;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 25px;
            font-size: 1rem;
        }

        /* Theme Toggle */
        #theme-toggle {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 10px;
            background: #3498db;
            color: #fff;
            border: none;
            border-radius: 50%;
            cursor: pointer;
            z-index: 1001;
            transition: background 0.3s ease;
        }

        #theme-toggle:hover {
            background: #2980b9;
        }

        /* Animations */
        @keyframes fadeInDown {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes slideIn {
            from { transform: translateY(20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .header-text h1 {
                font-size: 2rem;
            }

            .header-text p {
                font-size: 1rem;
            }

            .nav-menu {
                display: none;
            }

            .menu-toggle {
                display: block;
            }

            .mobile-menu {
                display: block;
            }

            .row {
                flex-direction: column;
            }

            .sub-title {
                font-size: 2rem;
            }

            .achievement-list, .work-list {
                grid-template-columns: 1fr;
            }

            .modal-content {
                width: 90%;
            }

            #chatbot-popup {
                width: 90%;
                bottom: 70px;
                right: 10px;
            }
        }

        @media (max-width: 480px) {
            .header-text h1 {
                font-size: 1.5rem;
            }

            .header-text p {
                font-size: 0.9rem;
            }

            .sub-title {
                font-size: 1.5rem;
            }

            .tab-links {
                font-size: 1rem;
            }

            .tab-contents ul li {
                font-size: 0.9rem;
            }

            .achievement-list h2, .layer h3 {
                font-size: 1.2rem;
            }

            .contact-left p, .contact-right input, .contact-right textarea {
                font-size: 0.9rem;
            }
        }
    </style>
</head>
<body>

    <div id="header">
        <div class="container">
  
            <div class="header-text">
                <p>Passionate about Software Engineering | Software Engineer</p>
                <h1>Hi, I'm <span>Phone</span><br>Wai Yan Moe From Myanmar</h1>
            </div>
        </div>
    </div>

    <!-- About -->
    <div id="about">
        <div class="container">
            <div class="row">
                <div class="about-col-1">
                    <img src="images/logo.jpg" alt="Profile Image" loading="lazy">
                </div>
                <div class="about-col-2">
                    <h1 class="sub-title">About Me</h1>
                    <p>
                        A software engineering student at Ton Duc Thang University in Vietnam, highly passionate about
                        website development, web applications, and mobile application development.
                    </p>
                    <div class="tab-titles">
                        <p class="tab-links active-link" onclick="opentab('skills')">Skills</p>
                        <p class="tab-links" onclick="opentab('experience')">Experiences</p>
                        <p class="tab-links" onclick="opentab('education')">Education</p>
                    </div>
                    <div class="tab-contents active-tab" id="skills">
                        <ul>
                            <li><span>Website Development</span><br>HTML5, CSS, JavaScript, PHP</li>
                            <li><span>Mobile Application Development</span><br>Kotlin, Java, Flutter</li>
                            <li><span>Website Application Development</span><br>Java, Node.js, ASP.NET, Django</li>
                            <li><span>Database Management</span><br>MySQL, Microsoft SQL, MongoDB</li>
                            <li><span>Version Control</span><br>Git, GitHub</li>
                        </ul>
                    </div>
                    <div class="tab-contents" id="experience">
                        <ul>
                            <li><span>Vietnam Datathon 2023</span><br>Vietnam Datathon (VNDH) is a 24-hour Data Hackathon event for undergraduate students from all over Vietnam. By working together in teams to generate insights and potential data science solutions, they will solve practical problems through the application of data science tools and techniques.</li>
                            <li><span>QCQA Engineer Internship</span><br>In my role, I specialize in crafting detailed test cases for both web and mobile applications, ensuring comprehensive coverage across all user scenarios. My expertise extends to rigorously testing APIs for functionality and reliability, as well as validating database integrity and performance to guarantee seamless user experiences.</li>
                        </ul>
                    </div>
                    <div class="tab-contents" id="education">
                        <ul>
                            <li><span>2022 - 2026</span><br>Software Engineering at Ton Duc Thang University, Vietnam</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Achievements -->
    <div id="achievements">
        <div class="container">
            <h1 class="sub-title">Achievements</h1>
            <div class="achievement-list">
                <div>
                    <i class="fa-solid fa-code"></i>
                    <h2>Object Oriented Design</h2>
                    <a href="OOP.html">See Certificate</a>
                </div>
                <div>
                    <i class="fa-solid fa-crop-simple"></i>
                    <h2>Volunteer of Green Summer</h2>
                    <a href="Volunteer.html">See More</a>
                </div>
                <div>
                    <i class="fa-solid fa-car"></i>
                    <h2>Cosmo Championship - First runner up</h2>
                    <a href="Cosmo.html">Learn more</a>
                </div>
                <div>
                    <i class="fa-solid fa-microchip"></i>
                    <h2>Candidate of ASEAN-JAPAN YOUTH FESTIVAL</h2>
                    <a href="AJYF.html">Learn more</a>
                </div>
            </div>
        </div>
    </div>

    <div class="container" style="text-align: center; padding: 40px 0;">
        <h1 class="sub-title">Welcome to My Projects</h1>
        <button class="btn" onclick="window.location.href='repo.html'">Show My Repositories</button>
    </div>

    <!-- Contact -->
    <div id="contact">
        <div class="container">
            <div class="row">
                <div class="contact-left">
                    <h1 class="sub-title">Contact Me</h1>
                    <p><i class="fa-solid fa-paper-plane"></i>wyan40653@gmail.com</p>
                    <p><i class="fa-solid fa-phone"></i>+84384286933</p>
                    <div class="social-icons">
                        <a href="https://www.facebook.com/profile.php?id=100015825665312&mibextid=ZbWKwL"><i class="fa-brands fa-facebook"></i></a>
                        <a href="https://github.com/PhoneWaiYanMoe"><i class="fa-brands fa-github"></i></a>
                        <a href="https://www.linkedin.com/in/phone-wai-yan-moe-6809512a8?utm_source=share&utm_campaign=share_via&utm_content=profile&utm_medium=android_app"><i class="fa-brands fa-linkedin"></i></a>
                    </div>
                    <a href="images/cv.pdf" download class="btn btn2">Download CV</a>
                </div>
                <div class="contact-right">
                    <form name="submit-to-google-sheet">
                        <input type="text" name="Name" placeholder="Your Name" required>
                        <input type="email" name="Email" placeholder="Your Email" required>
                        <textarea name="Message" rows="6" placeholder="Your Message" required></textarea>
                        <button type="submit" class="btn btn2">Submit</button>
                    </form>
                    <span id="msg"></span>
                </div>
            </div>
        </div>
        <div class="copyright">
            <p>Designed & built by Phone ©2024 present, All rights reserved</p>
        </div>
    </div>

    <!-- Emotion Detection Modal -->
    <div id="emotionModal" class="modal">
        <div class="modal-content">
            <span class="close">×</span>
            <p>Would you like to try Face Emotion Detection?</p>
            <button id="yesEmotion">Yes</button>
            <button id="noEmotion" class="close">No</button>
        </div>
    </div>

    <!-- Chatbot Button -->
    <button id="chatbot-button">
        <i class="fas fa-robot"></i> Chat with Me
    </button>

    <!-- Chatbot Popup -->
    <div id="chatbot-popup" class="hidden">
        <div id="chatbox"></div>
        <input type="text" id="userInput" placeholder="Ask me something...">
    </div>

    <!-- Theme Toggle -->
    <button id="theme-toggle">
        <i class="fas fa-moon"></i>
    </button>

    <script>
        // Navigation functionality
        const mobileMenu = document.getElementById("mobile-menu");
        const navMenuLinks = document.querySelectorAll(".nav-menu a, .mobile-menu a");

        function openmenu() {
            mobileMenu.classList.add("active");
        }

        function closemenu() {
            mobileMenu.classList.remove("active");
        }

        // Sticky navigation
        window.addEventListener("scroll", () => {
            const nav = document.querySelector("nav");
            if (window.scrollY > 50) {
                nav.classList.add("sticky");
            } else {
                nav.classList.remove("sticky");
            }
        });

        // Smooth scrolling and active link highlighting
        navMenuLinks.forEach(link => {
            link.addEventListener('click', function(e) {
                e.preventDefault();
                const targetId = this.getAttribute('href');
                document.querySelector(targetId).scrollIntoView({ behavior: 'smooth' });
                closemenu(); // Close mobile menu on link click
                navMenuLinks.forEach(l => l.classList.remove('active'));
                this.classList.add('active');
            });
        });

        // Highlight active section on scroll
        const sections = document.querySelectorAll('section, div[id]');
        window.addEventListener('scroll', () => {
            let current = '';
            sections.forEach(section => {
                const sectionTop = section.offsetTop;
                const sectionHeight = section.clientHeight;
                if (pageYOffset >= sectionTop - sectionHeight / 3) {
                    current = section.getAttribute('id');
                }
            });

            navMenuLinks.forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('href').substring(1) === current) {
                    link.classList.add('active');
                }
            });
        });

        // Tab functionality
        const tablinks = document.getElementsByClassName("tab-links");
        const tabcontents = document.getElementsByClassName("tab-contents");

        function opentab(tabname) {
            for (let tablink of tablinks) {
                tablink.classList.remove("active-link");
            }
            for (let tabcontent of tabcontents) {
                tabcontent.classList.remove("active-tab");
            }
            event.currentTarget.classList.add("active-link");
            document.getElementById(tabname).classList.add("active-tab");
        }

        // Form submission
        const scriptURL = 'https://script.google.com/macros/s/AKfycbygapmFc85BqHB37o8KKm8DXquMW6o0N-KlKvOnw4OUIKplkVKV1Dj8-JDJVHJUiteQXQ/exec';
        const form = document.forms['submit-to-google-sheet'];
        const msg = document.getElementById("msg");
        form.addEventListener('submit', e => {
            e.preventDefault();
            fetch(scriptURL, { method: 'POST', body: new FormData(form) })
                .then(response => {
                    msg.innerHTML = "Message sent successfully";
                    setTimeout(() => { msg.innerHTML = ""; }, 5000);
                    form.reset();
                })
                .catch(error => {
                    console.error('Error!', error.message);
                    msg.innerHTML = "Error sending message. Please try again.";
                });
        });

        // Emotion Detection Modal
        const emotionModal = document.getElementById("emotionModal");
        const openEmotionModal = document.getElementById("openEmotionModal");
        const closeEmotionModal = document.getElementsByClassName("close");

        openEmotionModal.addEventListener("click", () => {
            emotionModal.style.display = "block";
        });

        for (let closeBtn of closeEmotionModal) {
            closeBtn.addEventListener("click", () => {
                emotionModal.style.display = "none";
            });
        }

        window.addEventListener("click", (event) => {
            if (event.target == emotionModal) {
                emotionModal.style.display = "none";
            }
        });

        document.getElementById("yesEmotion").addEventListener("click", () => {
            if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {
                navigator.mediaDevices.getUserMedia({ video: true })
                    .then(stream => {
                        console.log("Camera access granted");
                        const video = document.createElement('video');
                        video.srcObject = stream;
                        video.play();
                        document.body.appendChild(video);
                        emotionModal.style.display = "none";
                    })
                    .catch(error => {
                        console.log("Camera access denied", error);
                    });
            }
        });

        // Chatbot
        document.getElementById('chatbot-button').addEventListener('click', () => {
            const popup = document.getElementById('chatbot-popup');
            popup.classList.toggle('active');
        });

        document.getElementById('userInput').addEventListener('keypress', async (e) => {
            if (e.key === 'Enter') {
                await sendMessage();
            }
        });

        async function sendMessage() {
            const userInput = document.getElementById("userInput");
            const chatBox = document.getElementById("chatbox");
            const message = userInput.value.trim();

            if (!message) return;

            chatBox.innerHTML += `<div class="user-message"><strong>You:</strong> ${message}</div>`;
            userInput.value = "";

            try {
                const response = await fetch("http://localhost:3000/chat", {
                    method: "POST",
                    headers: { "Content-Type": "application/json" },
                    body: JSON.stringify({ message: message })
                });

                if (!response.ok) {
                    throw new Error(`HTTP error! Status: ${response.status}`);
                }

                const data = await response.json();
                chatBox.innerHTML += `<div class="bot-message"><strong>Bot:</strong> ${data.reply}</div>`;
                chatBox.scrollTop = chatBox.scrollHeight;
            } catch (error) {
                console.error("Fetch error:", error);
                chatBox.innerHTML += `<div class="bot-message" style="color:red;"><strong>Error:</strong> Could not connect to server.</div>`;
            }
        }

        // Theme Toggle
        const themeToggle = document.getElementById("theme-toggle");
        themeToggle.addEventListener("click", () => {
            document.body.classList.toggle("dark-mode");
            const isDark = document.body.classList.contains("dark-mode");
            themeToggle.innerHTML = isDark ? '<i class="fas fa-sun"></i>' : '<i class="fas fa-moon"></i>';
            localStorage.setItem("theme", isDark ? "dark" : "light");
        });

        // Load theme from local storage
        if (localStorage.getItem("theme") === "dark") {
            document.body.classList.add("dark-mode");
            themeToggle.innerHTML = '<i class="fas fa-sun"></i>';
        }
    </script>

</body>
</html>